---
title: "Building a GitHub CLI Extension: Interactive Repository Selection with Fuzzy Search"
description: "How I built gh-repo-select-extension - a GitHub CLI extension that adds interactive repository selection with fuzzy search, cross-platform clipboard support, and multiple actions."
publishedAt: "2025-07-01"
tags: ["github", "cli", "bash", "productivity", "opensource", "terminal", "developer-tools"]
author: "Remco Stoeten"
github: "remcostoeten"
repository: "https://github.com/remcostoeten/gh-cli-extension-easy-copy-clone-repository"
---

# Building a GitHub CLI Extension: Interactive Repository Selection with Fuzzy Search

<img src="./gh-select-demo-web.gif" alt="gh-select extension demo showing interactive repository selection" />

*Interactive repository selection with fuzzy search, enhanced colors, and smooth animations*

## The Problem: GitHub CLI's UX Pain Points

As a developer who lives in the terminal, I've always been frustrated with the GitHub CLI's repository management. The native `gh repo list` command has several critical issues:

- **No interactive browsing** - Just a static list that's hard to navigate
- **Truncated output** - Repository names get cut off on smaller screens
- **Manual copying** - Have to manually copy repository names or URLs
- **No fuzzy search** - Can't quickly filter through repositories
- **Clunky workflow** - Multiple commands needed for simple tasks

After dealing with this daily frustration, I decided to build a solution.

## The Solution: gh-repo-select-extension

I created an interactive GitHub CLI extension that transforms repository management into a smooth, efficient workflow:

```bash
# Install the extension
gh extension install remcostoeten/gh-cli-extension-easy-copy-clone-repository

# Launch interactive selector
gh repo-select-extension
```

## Key Features

### üîç Interactive Fuzzy Search
- Browse through all your repositories with `fzf`
- Type to filter repositories instantly
- Real-time search as you type

### ‚å®Ô∏è Intuitive Navigation
- Arrow key navigation through repositories
- Clean terminal UI with enhanced colors
- Repository privacy indicators (üåç public / üîí private)

### üöÄ Multiple Actions
Once you select a repository, choose from:
1. **üì• Clone repository** - Clone to current directory
2. **üìã Copy repository name** - Copy `owner/repo-name` to clipboard  
3. **üîó Copy repository URL** - Copy full GitHub URL
4. **üåê Open in browser** - Launch repository on GitHub.com
5. **‚ùå Cancel** - Exit without action

### üìã Universal Clipboard Support
The extension automatically detects and works with:
- **macOS**: `pbcopy`
- **Linux X11**: `xclip` or `xsel`
- **Linux Wayland**: `wl-clipboard`
- **WSL**: `clip.exe`
- **Fallback**: Displays output if clipboard unavailable

## Technical Implementation

### Architecture Decisions

I chose **Bash** as the implementation language for several reasons:
- **Universal compatibility** - Works on all Unix-like systems
- **Zero runtime dependencies** - Only requires standard CLI tools
- **Simple distribution** - Single script, easy to install
- **GitHub CLI integration** - Native extension format

### Dependencies
The extension requires three standard CLI tools:
- **GitHub CLI** (`gh`) - For authentication and API access
- **fzf** - For interactive fuzzy search
- **jq** - For JSON processing

### Core Functionality

```bash
#!/usr/bin/env bash

# Cross-platform clipboard function
copy_to_clipboard() {
    local text="$1"
    
    # macOS
    if command -v pbcopy >/dev/null 2>&1; then
        echo "$text" | pbcopy
        return 0
    fi
    
    # Linux with X11
    if command -v xclip >/dev/null 2>&1 && [ -n "$DISPLAY" ]; then
        echo "$text" | xclip -selection clipboard
        return 0
    fi
    
    # Linux with Wayland
    if command -v wl-copy >/dev/null 2>&1; then
        if echo "test" | wl-copy 2>/dev/null; then
            echo "$text" | wl-copy
            return 0
        fi
    fi
    
    # WSL
    if command -v clip.exe >/dev/null 2>&1; then
        echo "$text" | clip.exe
        return 0
    fi
    
    return 1
}
```

### GitHub CLI Extension Structure

GitHub CLI extensions follow a specific structure:
```
extension.yml          # Extension metadata
gh-select             # Main executable script
gh-repo-select-extension  # Repository-name executable
README.md             # Documentation
```

The `extension.yml` defines the extension:
```yaml
name: select
owner: remcostoeten
host: github.com
tag: latest
executable: gh-select
```

## Development Challenges & Solutions

### Challenge 1: Cross-Platform Clipboard
**Problem**: Different clipboard utilities across operating systems.

**Solution**: Created a detection function that tries multiple clipboard utilities in order of preference, with graceful fallback to display-only mode.

### Challenge 2: GitHub CLI Extension Format
**Problem**: GitHub CLI has specific requirements for extension structure and naming.

**Solution**: Created both `gh-select` (preferred name) and `gh-repo-select-extension` (repository name) executables to satisfy GitHub CLI requirements.

### Challenge 3: Fish Shell Compatibility
**Problem**: Arrow keys produced escape sequences in fish shell.

**Solution**: Improved input handling with proper validation and escape sequence management.

### Challenge 4: Terminal UI Polish
**Problem**: Creating a professional-looking terminal interface.

**Solution**: Used Unicode box drawing characters, consistent color scheme, and proper spacing for a polished look.

## Performance Optimizations

### Fast Repository Loading
- Fetches up to 1000 repositories in a single API call
- Uses JSON processing for efficient data handling
- Minimal temporary file usage

### Efficient Search
- Leverages `fzf`'s optimized search algorithms
- Real-time filtering without lag
- Memory-efficient repository list processing

## Testing & Quality Assurance

### Cross-Platform Testing
Tested on:
- **macOS** (Intel and Apple Silicon)
- **Ubuntu/Debian** (X11 and Wayland)
- **Arch Linux**
- **WSL 2** (Windows Subsystem for Linux)

### Error Handling
- Dependency checking on startup
- GitHub authentication verification
- Graceful fallbacks for missing clipboard utilities
- Clear error messages for troubleshooting

## Release & Distribution

### GitHub Release Process
```bash
# Tag and release
git tag v1.0.0
git push origin v1.0.0

# Create GitHub release
gh release create v1.0.0 \
  --title "v1.0.0 - Interactive Repository Selector" \
  --notes "..."
```

### Installation Methods
```bash
# Direct installation
gh extension install remcostoeten/gh-cli-extension-easy-copy-clone-repository

# Local development
git clone <repository>
cd gh-cli-extension-easy-copy-clone-repository
gh extension install .
```

## Demo & Documentation

I created a comprehensive demo GIF showing both copy and clone workflows:
- Command execution
- Repository navigation
- Action selection
- Clipboard integration
- Terminal output

The demo uses:
- Enhanced colors for better visibility
- Realistic timing and interactions
- Multiple workflow examples
- Professional presentation

## Community Impact

Since release, the extension has:
- Streamlined workflows for terminal-focused developers
- Reduced friction in repository management
- Provided a template for other GitHub CLI extensions
- Demonstrated cross-platform Bash development best practices

## Future Enhancements

Potential improvements based on community feedback:
- **Repository statistics** - Show stars, forks, language
- **Caching** - Store repository list for faster subsequent runs
- **Custom actions** - User-configurable action menu
- **Themes** - Customizable color schemes
- **Filtering** - Advanced filters by language, date, etc.

## Lessons Learned

### 1. Start with User Experience
Focus on solving real pain points rather than adding features. The core UX improvement (interactive selection) was more valuable than any advanced features.

### 2. Cross-Platform Compatibility Matters
Taking time to support multiple platforms properly pays off in adoption and user satisfaction.

### 3. Documentation is Critical
Clear installation instructions, troubleshooting guides, and demo materials significantly impact adoption.

### 4. Community Feedback is Invaluable
Early feedback helped identify platform-specific issues and UX improvements.

## Conclusion

Building this GitHub CLI extension taught me valuable lessons about:
- Cross-platform development in Bash
- GitHub CLI extension architecture
- Terminal UI design
- Open source project management

The extension has transformed my daily Git workflow and received positive feedback from the developer community. It demonstrates that sometimes the best solutions are simple tools that solve specific problems well.

---

## Try It Yourself

```bash
# Install the extension
gh extension install remcostoeten/gh-cli-extension-easy-copy-clone-repository

# Launch interactive selector
gh repo-select-extension
```

**Repository**: [gh-cli-extension-easy-copy-clone-repository](https://github.com/remcostoeten/gh-cli-extension-easy-copy-clone-repository)

**Author**: [Remco Stoeten](https://github.com/remcostoeten)

---

*If this extension helped improve your workflow, please star the repository! ‚≠ê*
